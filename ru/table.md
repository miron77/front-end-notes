# Оригинальная таблица

Когда появилась необходимость в HTML разметке показывать таблицы - изобрели тег `<table>`.
Что же даёт нам [таблица](http://caniuse.com/#feat=css-table) в браузере?
Вот несколько основных "фич":

1. Если мы не указали ширину таблицы/столбцов, то ширина таблицы [подстраивается и растягивается](https://codepen.io/volodalexey/pen/bRqEEG), чтобы вместить содержимое любого из столбцов.
2. Если мы указали ширину таблицы, и если указанная ширина больше чем "надо" (см. пункт 1) тогда таблица растягивается. 
Самое интересное [как растягивается таблица](https://codepen.io/volodalexey/pen/weJGWd).
В данном случае она вычисляет процентное отношение каждого столбца (см. пункт 1) и расстягивает каждый столбец соответственно процентному соотношению.
В пункте 1 ширина всей таблицы (примерно): `387px`, колонки `Company` : `206px`, колонки `Contact` : `115px`.
Итого в процентах `Company` : `206px/387px * 100% = 53%`, `Contact` : `115px/387px * 100% = 30%`.
Теперь когда таблица растянулась ширина всей таблицы (примерно на моем экране): `1836px`, колонки `Company` : `982px`, колонки `Contact` : `551px`.
В процентах `Company` : `982px/1836px * 100% = 53%`, `Contact` : `551px/1836px * 100% = 30%`.
3. Если мы указали ширину таблицы и если указанная ширина меньше чем "надо" (см. пункт 1) тогда таблица сужается.
Но сужается [до минимально возможной ширины каждого столбца](https://codepen.io/volodalexey/pen/qjrZNz).
Можно "дожать" [таблицу](https://codepen.io/volodalexey/pen/KqWzgQ) указав ей CSS свойство `table-layout: fixed`. [Описание](https://www.w3.org/TR/html4/appendix/notes.html#h-B.5.2.1) к свойству.
Так мы ломаем автовычисление и теперь таблица слушается заданных ширин для каждого столбца (или всей таблицы), но зато таблица точно вписывается в указанную ширину.
Если мы не указали ширину столбцов, тогда при ["сломанной" таблице](https://codepen.io/volodalexey/pen/QgpNOm), `ширина каждого столбца = вся ширина / количество столбцов`.
4. Схлопывание (наложение) границ ячеек/столбцов `border-collapse: collapse`, если мы указали границы для ячеек.
Т.е. в [местах соприкосновения ячеек](https://codepen.io/volodalexey/pen/MopJyM), не будет двойных граничных линий.
5. Группировка шапки.

## Использование оригинальной таблицы

Во всех вышеприведенный примерах в разметке таблицы я использовал некую сокращенную разметку:
```html
<table>
  <tr>
    <th>Header 1</th>
    <th>Header 2</th>
  </tr>
  <tr>
    <td>1.1</td>
    <td>1.2</td>
  </tr>
  <tr>
    <td>2.1</td>
    <td>2.2</td>
  </tr>
</table>
```
Однако можно использовать "каноничную" разметку:
```html
<table>
  <thead>
    <tr>
      <th>Header 1</th>
      <th>Header 2</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>1.1</td>
      <td>1.2</td>
    </tr>
    <tr>
      <td>2.1</td>
      <td>2.2</td>
    </tr>
  </tbody>
</table>
```
Если нам надо таблицу без шапки, но в то же время нам надо контроллировать ширину столбцов:
```html
<table>
  <tbody>
    <colgroup>
      <col width="100px"></col>
      <col width="150px"></col>
    </colgroup>
    <tr>
      <td>1.1</td>
      <td>1.2</td>
    </tr>
    <tr>
      <td>2.1</td>
      <td>2.2</td>
    </tr>
  </tbody>
</table>
```

Чаще всего нам в разметке необходимо получить следующее. У нас есть некий контейнер с заданной шириной или с заданной максимальной шириной.
Внутри него мы хотим показывать таблицу, если ширина таблицы больше чем контейнер, тогда надо показывать скролл для контейнера.
Если ширина таблицы меньше чем контейнер, тогда надо расширять таблицу до ширины контейнера. 
Но ни в коем случае мы не хотим, чтобы таблица сделала наш контейнер шире чем мы задали.
По этой [ссылке](https://codepen.io/volodalexey/pen/NgpNzY) можно уведеть контейнер с таблицей в действии.
Если мы будем сужать контейнер, то в тот момент, когда таблица уже больше не сможет сужаться - появиться скролл.

## Подстройка таблицы

### Задание ширины таблицы и столбцов

Первая дилемма с которой сталкиваются фронт-энд разработчики - это задавать или не задавать ширину столбцов.
Если не задавать, тогда ширина каждого столбца будет вычисляться в зависимости от содержимого (см. пункт 2 и 3).
Исходя из логики, можно понять, что в этом случае браузеру нужно два прохода. На первом он просто отображает все в таблице. На втором подсчитывает ширину столбцов.
Со временем вам скажут что таблица выглядит некрасиво, т.к. один из столбцов слишком широкий и `"вот в этом столбце нам надо показать больше текста чем в этом, а у нас наоборот..."`.
И самая распространенная "фича" - это сокращение текста с помощью `...`. Т.е. если текст вылазит за ширину колонки, то его надо сокращать и в конце добавлять `...`.
Первое разочарование, что если не задавать ширину столбцов, то сокращение не работает.
`If column widths prove to be too narrow for the contents of a particular table cell, user agents may choose to reflow the table`

В спецификации таблицы есть [прямое указание](https://www.w3.org/TR/html4/struct/tables.html), что тело таблицы может быть с шапкой и подвалом. Т.е. шапка и подвал всегда видимы.
`User agents may exploit the head/body/foot division to support scrolling of body sections independently of the head and foot sections. When long tables are printed, the head and foot information may be repeated on each page that contains table data`
А есть и указание о том, что тело таблицы можно скроллить, а шапка и подвал будут оставаться на месте:
`Table rows may be grouped into a table head, table foot, and one or more table body sections, using the THEAD, TFOOT and TBODY elements, respectively. This division enables user agents to support scrolling of table bodies independently of the table head and foot`
